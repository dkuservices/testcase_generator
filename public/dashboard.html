<!doctype html>
<html lang="sk">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dashboard - Generátor testovacích scenárov</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Work+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/ui/generate.css">
    <link rel="stylesheet" href="/ui/hierarchy.css">
    <link rel="stylesheet" href="/ui/review.css">
    <link rel="stylesheet" href="/ui/toast.css">
    <script defer src="/ui/toast.js"></script>
    <script defer src="/ui/sidebar.js"></script>
    <script defer src="/ui/job-tracker.js"></script>
    <script defer src="/ui/dashboard.js"></script>
  </head>
  <body>
    <div class="app-layout">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <h2>Test Generator</h2>
          <p>Hierarchia projektu</p>
        </div>
        <nav class="sidebar-nav" id="sidebarTree"></nav>
        <div class="sidebar-actions">
          <a href="/dashboard" class="sidebar-link active">
            <span>&#9776;</span> Dashboard
          </a>
          <a href="/generate" class="sidebar-link">
            <span>+</span> Rýchle generovanie
          </a>
          <a href="/review" class="sidebar-link">
            <span>!</span> Kontrola scenárov
          </a>
          <a href="/jobs" class="sidebar-link">
            <span>&#9881;</span> Joby <span class="sidebar-badge" id="jobsBadge" style="display:none">0</span></a>
          <a href="/documents" class="sidebar-link">
            <span>&#128196;</span> Dokumenty
          </a>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <div class="page-header">
          <h1>Dashboard</h1>
          <p>Prehľad vášho projektu generovania testovacích scenárov</p>
        </div>

        <div class="stats-row" id="statsRow">
          <div class="stat-box">
            <div class="stat-value" id="totalProjects">0</div>
            <div class="stat-label">Projekty</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="totalComponents">0</div>
            <div class="stat-label">Komponenty</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="totalPages">0</div>
            <div class="stat-label">Stránky</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="totalTests">0</div>
            <div class="stat-label">Testovacie scenáre</div>
          </div>
        </div>

        <!-- Quick Actions -->
        <h2 style="margin-bottom: 16px;">Rýchle akcie</h2>
        <div class="cards-grid" style="margin-bottom: 40px;">
          <a href="/projects" class="item-card">
            <h3>Projekty</h3>
            <p>Spravujte projekty, komponenty a stránky v hierarchii</p>
          </a>
          <a href="/generate" class="item-card">
            <h3>Generovať testy</h3>
            <p>Vygenerujte testovacie scenáre z Confluence stránky alebo manuálneho vstupu</p>
          </a>
          <a href="/review" class="item-card">
            <h3>Kontrola scenárov</h3>
            <p>Skontrolujte a schváľte vygenerované testovacie scenáre</p>
          </a>
          <a href="/documents" class="item-card">
            <h3>Dokumenty</h3>
            <p>Nahrajte Word dokumenty a automaticky vygenerujte testy</p>
          </a>
        </div>

        <!-- Recent Jobs -->
        <h2 style="margin-bottom: 16px;">Posledné joby</h2>
        <div id="recentJobsContainer">
          <div class="loading-spinner"></div>
        </div>
        <div class="empty-state" id="noRecentJobs" style="display: none;">
          <h3>Žiadne joby</h3>
          <p>Zatiaľ neboli spustené žiadne generovania</p>
        </div>
      </main>
    </div>

    <div class="sidebar-backdrop" id="sidebarBackdrop"></div>
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Otvoriť navigáciu" aria-expanded="false" aria-controls="sidebar">Menu</button>
  </body>
</html>
